!function(a,b,c,d){function i(b,c){this.element=b,this.options=a.extend({},g,c),this._defaults=g,this._name=e,this.isDragging=0,this.barWidth=0,this.btnBar=null,h=this,this.init()}var e="dargBar",f=["setPosition"],g={btn_r:6,btn_area:20,btn_color:"#4A4A4A",bar_color:"#4A4A4A"},h=null;i.prototype={init:function(){var b=this.element,c=this.options,d=Snap(b),e=a(b).width(),f=a(b).height(),g=d.paper.g(),i=d.paper.circle(c.btn_r,f/2,c.btn_r).attr({fill:c.btn_color}),j=d.paper.rect(-c.btn_area,0,2*(c.btn_area+c.btn_r),f,0).attr({opacity:0});d.paper.line(c.btn_r,f/2,e-c.btn_r,f/2).attr({stroke:c.bar_color,strokeWidth:1});this.barWidth=e-2*c.btn_r,g.add(j),g.add(i),this.btnBar=g;var l=g.getBBox();g.drag(function(d,e,f,i){var j=new Snap.Matrix,k=l.cx-c.btn_r+d;0>k?k=0:k>h.barWidth&&(k=h.barWidth),j.add(1,0,0,1,k,0),g.transform(j),a(b).trigger("onMove");var m=0,n=h.getTime();n-h.time>m&&(h.time=n,a(b).trigger("onDrag",h.getPercent()))},function(c,d,e){l=g.getBBox(),h.time=h.getTime(),a(b).trigger("dragStart")},function(c){l=g.getBBox(),a(b).trigger("dragEnd",h.getPercent())})},getTime:function(){var a=new Date;return a=Date.parse(a)+a.getMilliseconds()},getPercent:function(b){var c=this.element,d=this.options,f=(a(c).width(),this.btnBar.getBBox()),g=Math.round(f.cx)-d.btn_r;return g=Math.round(g/this.barWidth*1e4)/100},setPosition:function(a){var b=new Snap.Matrix,c=Math.round(this.barWidth*a*100)/1e4;b.add(1,0,0,1,c,0),this.btnBar.animate({transform:b},300,mina.easeinout)}},a.fn[e]=function(b){return this.each(function(){a.data(this,"plugin_"+e)||a.data(this,"plugin_"+e,new i(this,b))})},a(f).each(function(b,c){a.fn[c]=function(b,d,f,g,i,j,k){this.each(function(){a.data(this,"plugin_"+e)&&(h=a.data(this,"plugin_"+e),"function"==typeof h[c]?h[c](b,d,f,g,i,j,k):console.log(e+": ["+c+"] method not defined!"))})}})}(jQuery,window,document);